<?xml version="1.0" encoding="ISO-8859-1"?>

<webpage lastModified="$Date: 2009-07-09 12:25:56 +0200 (Do, 09 Jul 2009) $" id="dozbib.import">
  <title xml:lang="de">Literaturliste importieren</title>
  <title xml:lang="en">Import publication list</title>
     
  <section>
    <p>
      Über dieses Formular können Sie eine Literaturliste im
      <a href="http://artis.imag.fr/~Xavier.Decoret/resources/xdkbibtex/bibtex_summary.html">BibTeX Format</a> 
      importieren.
      Sie können
    </p>
    <ul>
      <li>die Literaturliste als Datei hochladen,</li>
      <li>oder einen Link (URL) angeben, unter der die Literaturliste im Web online verfügbar ist,</li>
      <li>oder den BibTeX Code in das unten bereitgestellte Texteingabefeld kopieren.</li>
    </ul>
  </section>
  
  <section class="sectioneditor">
    <editor id="import">
      <target type="servlet" name="DozBibImportServlet" method="post" format="xml" />
      
      <validationMessage>
        <label xml:lang="de">Eingabefehler: Bitte korrigieren Sie die markierten Felder.</label>
        <label xml:lang="en">Input error: Please, correct the marked fields.</label>
      </validationMessage>

      <components root="root" var="/ubo-import">
        <headline anchor="LEFT">
          <text label="Literaturliste importieren" />
        </headline>
        <panel id="root" lines="off">
          <cell row="1" col="1" anchor="NORTHEAST">
            <text label="Fach:" />
          </cell>
          <cell row="1" col="2" anchor="WEST" var="subject">
            <repeater min="1" max="5" lines="off">
              <list type="dropdown" rows="1" id="list.subject">
                <item value="" i18n="search.select" />
                <include cacheable="true" uri="resource:fachreferate.xml" />
              </list>
            </repeater>
          </cell>
          <cell row="2" col="1" anchor="NORTHEAST">
            <text label="Fakultät:" />
          </cell>
          <cell row="2" col="2" anchor="WEST" var="origin">
            <list type="dropdown" rows="1" id="list.origin" class="origin-autocomplete">
              <item value="" i18n="search.select" />
              <include cacheable="true" uri="classification:editor:-1:children:ORIGIN" />
            </list>
            <text class="scriptContainer">
              <label>
                <script type="text/javascript" src="external/jquery-ui-1.8.21.custom.min.js"></script>
                <script type="text/javascript" src="external/chosen/chosen.jquery.min.js"></script>
                <script type="text/javascript">
                  jQuery(document).ready(function() {
                    jQuery('select[name*="origin"],select[class*="autocomplete"]').chosen({search_contains: true});
                  });
                </script>
              </label>
            </text>
          </cell>
          <cell row="3" col="1" anchor="EAST">
            <text label="Encoding:" />
          </cell>
          <cell row="3" col="2" anchor="WEST" var="encoding">
            <list type="dropdown" rows="1" default="ISO-8859-1">
              <item value="ISO-8859-1" label="ISO-8859-1" />
              <item value="Cp1252"     label="Windows CP1252" />
              <item value="UTF-8"      label="UTF-8" />
            </list>
            <text label=" (Zeichenkodierung der zu importierenden Datei)" />
          </cell>
          <cell row="4" col="1" anchor="EAST">
            <text label="Datei:" />
          </cell>
          <cell row="4" col="2" anchor="WEST" var="file">
            <file width="80" />
          </cell>
          <cell row="5" col="1" anchor="EAST">
            <text label="oder URL:" />
          </cell>
          <cell row="5" col="2" anchor="WEST" var="url">
            <textfield width="80" maxLength="250" autofill="http://" id="tf.url">
             <condition id="cond.url" maxLength="250" regexp="(f|ht)tp(s?)://[\w\d.]+\S*" i18n="condition.url" />
            </textfield>
          </cell>
          <cell row="6" col="1" anchor="NORTHEAST">
            <text label="oder Text:" />
          </cell>
          <cell row="6" col="2" anchor="WEST" var="text">
            <textarea width="74" height="10" linewrap="off" />
          </cell>
          <cell row="7" col="1" colspan="2" anchor="EAST">
            <submitButton label="Liste importieren" />
          </cell>
          <condition id="cond.required" 
            xsl="string-length(normalize-space(concat(file,url,text))) &gt; 0"
            label="Sie müssen mindestens eines der Felder ausfüllen!" 
          />
        </panel>
      </components>

    </editor>

  </section>
</webpage>

