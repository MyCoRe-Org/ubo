######################################################################
#                                                                    #
#                 Universit\u00E4tsbibliographie online                   #
#                                                                    #
######################################################################

######################################################################
#                                                                    #
#                            Metadata Store                          #
#                                                                    #
######################################################################

MCR.Metadata.Store.DefaultClass=org.mycore.datamodel.ifs2.MCRMetadataStore

# Format of dates within Document, see MCRMODSDateHelper for valid formats
UBO.MODS.DateFormat=w3cdtf-10

# Switch to true to enable XML Schema validation in parser
MCR.XMLParser.ValidateSchema=false

# Default project id
UBO.projectid.default=ubo

######################################################################
#                                 SOLR                               #
#                                                                    #
######################################################################

MCR.Solr.ServerURL=http://localhost:8080
MCR.Solr.Core.main.Name=ubo
#MCR.Solr.Core.classification.Name=%MCR.Solr.Core.main.Name%-class

MCR.Solr.DynamicFields=false
MCR.Solr.Proxy.WhiteList=/select,/uboExport,/statistics

MCR.URIResolver.xslImports.solr-document=solr-basetemplate.xsl,ubo-solr.xsl

# Workaround for MIR-747
MCR.Solr.Indexer.ThreadCount=1

MCR.EventHandler.MCRObject.013.Class=org.mycore.mods.MCRExtractRelatedItemsEventHandler
MCR.EventHandler.MCRObject.018.Class=org.mycore.ubo.dedup.DeDupEventHandler
#MCR.EventHandler.MCRObject.019.Class=org.mycore.ubo.publication.PublicationEventHandler
MCR.EventHandler.MCRObject.040.Class=
MCR.EventHandler.MCRObject.070.Class=
MCR.EventHandler.MCRObject.071.Class=
MCR.EventHandler.MCRObject.100.Class=org.mycore.solr.index.MCRSolrIndexEventHandler

######################################################################
#                                                                    #
#                         Legacy Search Fields                       #
#                                                                    #
######################################################################

# Legacy lucene field names were different, map to SOLR field
UBO.LegacySearch.Field.ubo_publisher=person_edt
UBO.LegacySearch.Field.ubo_referee=person_rev
UBO.LegacySearch.Field.ubo_advisor=person_ths
UBO.LegacySearch.Field.ubo_author=person_aut
UBO.LegacySearch.Field.ubo_contributor=person
UBO.LegacySearch.Field.ubo_diss_year=year_diss
UBO.LegacySearch.Field.ubo_role_pid=role_lsf
UBO.LegacySearch.Field.ubo_documentID=id_duepublico
UBO.LegacySearch.Field.ubo_scopus_pub=id_scopus
UBO.LegacySearch.Field.ubo_pubmed=id_pubmed
UBO.LegacySearch.Field.ubo_urn=id_urn
UBO.LegacySearch.Field.ubo_doi=id_doi
UBO.LegacySearch.Field.ubo_signature=sheflmark
UBO.LegacySearch.Field.ubo_issn=id_issn
UBO.LegacySearch.Field.ubo_isbn=id_isbn
UBO.LegacySearch.Field.ubo_comment=note
UBO.LegacySearch.Field.ubo_gnd=nid_gnd
UBO.LegacySearch.Field.ubo_scopus_pers=nid_scopus
UBO.LegacySearch.Field.ubo_researcherid=nid_researcherid
UBO.LegacySearch.Field.ubo_orcid=nid_orcid
UBO.LegacySearch.Field.ubo_pid=nid_lsf
UBO.LegacySearch.Field.ubo_type=genre
UBO.LegacySearch.Field.ubo_subject=subject
UBO.LegacySearch.Field.ubo_lastModified=modified
UBO.LegacySearch.Field.ubo_year=year
UBO.LegacySearch.Field.ubo_origin=origin
UBO.LegacySearch.Field.ubo_status=status
UBO.LegacySearch.Field.ubo_tag=tag
UBO.LegacySearch.Field.ubo_journal=journal
UBO.LegacySearch.Field.ubo_series=series
UBO.LegacySearch.Field.ubo_conference=conference
UBO.LegacySearch.Field.ubo_abstract=abstract
UBO.LegacySearch.Field.ubo_all=all

# Sort field names have changed over time
UBO.LegacySearch.Sort.ubo_name=sortby_person
UBO.LegacySearch.Sort.ubo_title=sortby_title
UBO.LegacySearch.Sort.ubo_year=year
UBO.LegacySearch.Sort.ubo_type=genre

UBO.LegacySearch.DefaultOperator.ubo_journal=phrase
UBO.LegacySearch.DefaultOperator.ubo_series=contains
UBO.LegacySearch.DefaultOperator.ubo_conference=contains
UBO.LegacySearch.DefaultOperator.ubo_comment=contains
UBO.LegacySearch.DefaultOperator.ubo_abstract=contains
UBO.LegacySearch.DefaultOperator.ubo_all=contains
UBO.LegacySearch.DefaultOperator.ubo_title=contains
UBO.LegacySearch.DefaultOperator.ubo_contributor=contains
UBO.LegacySearch.DefaultOperator.ubo_author=phrase
UBO.LegacySearch.DefaultOperator.ubo_advisor=phrase
UBO.LegacySearch.DefaultOperator.ubo_referee=phrase
UBO.LegacySearch.DefaultOperator.ubo_publisher=phrase

UBO.LegacySearch.DefaultOperator.journal=phrase
UBO.LegacySearch.DefaultOperator.series=contains
UBO.LegacySearch.DefaultOperator.conference=contains
UBO.LegacySearch.DefaultOperator.note=contains
UBO.LegacySearch.DefaultOperator.abstract=contains
UBO.LegacySearch.DefaultOperator.all=contains
UBO.LegacySearch.DefaultOperator.title=contains
UBO.LegacySearch.DefaultOperator.person=phrase
UBO.LegacySearch.DefaultOperator.person_aut=phrase
UBO.LegacySearch.DefaultOperator.person_ths=phrase
UBO.LegacySearch.DefaultOperator.person_rev=phrase
UBO.LegacySearch.DefaultOperator.person_edt=phrase

######################################################################
#                                                                    #
#                           Users and ACLs                           #
#                                                                    #
######################################################################

# Disable setting current groups in MyCoRe LayoutService
MCR.Users.SetCurrentGroups=true

# User and group ID of guest user in MyCoRe system
MCR.Users.Guestuser.UserName=gast
MCR.Users.Guestuser.GroupName=gast

# MyCoRe ACL configuration
MCR.Access.Strategy.Class=org.mycore.access.strategies.MCRObjectTypeStrategy

MCR.UserForms.CustomIncludes=user-editor-customization.xed
# only allow to edit specific Attributes like id_orcid, empty means all attributes allowed
UBO.Editable.Attributes=

######################################################################
##                              Login                               ##
######################################################################
UBO.Login.Path=login.xed
MCR.user2.Realms.URI=resource:realms-ubo.xml

# First, check against local user/password, otherwise try LDAP
MCR.user2.CascadingLogin.Realms=local ude
MCR.user2.CascadingLogin.local=org.mycore.ubo.login.LocalAuthenticationHandler
MCR.user2.CascadingLogin.ude=org.mycore.ubo.lsf.LDAPAuthenticationHandlerAddingLSFID

# Realm used for remote login via LDAP
MCR.user2.LDAP.Realm=ude

# LDAP server
MCR.user2.LDAP.ProviderURL=ldaps://ldap2.uni-duisburg-essen.de

# Timeout when connecting to LDAP server
MCR.user2.LDAP.ReadTimeout=5000

# Base DN, uid of user on actual login will be used!
# We do not use any "global" credentials, just the user's own uid and password to connect
MCR.user2.LDAP.BaseDN=uid=%s,ou=people,dc=uni-duisburg-essen,dc=de

# Global DN used for LDAP search (should be user-independent DN)
MCR.user2.LDAP.GlobalDN=dc=example,dc=org

# Global User used for LDAP authentication (should be uid of LDAP 'global read-only user')
MCR.user2.LDAP.GlobalUser=admin

# Global Password used for LDAP authentication (should be password of LDAP 'global read-only user')
MCR.user2.LDAP.GlobalPassword=admin

# Filter for user ID
MCR.user2.LDAP.UIDFilter=(uid=%s)

# Mapping from LDAP attribute to real name of user
MCR.user2.LDAP.Mapping.Name=cn

# Mapping from LDAP attribute to E-Mail address of user
MCR.user2.LDAP.Mapping.E-Mail=mail

# Default group membership (optional)
MCR.user2.LDAP.Mapping.Group.DefaultGroup=submitter

# Configuration of Lead-ID when handling new publications and the associated persons (authors etc.)
# If the configured Lead-ID exists as an attribute of a given MCRUser that was matched with a person of the publication,
# enrich the corresponding mods:name-element of the publication with it (if it is not already present)
# Format: MCR.user2.matching.lead_id=$IDENTIFIER_NAME (in mods format, no "id_" prefix)
# Example: MCR.user2.matching.lead_id=scopus
MCR.user2.matching.lead_id=local
# MCR.user2.matching.lead_id=orcid

# Configuration of MCRMatcher implementations chain (Multiple implementations separated by ",")
MCR.user2.matching.chain=org.mycore.ubo.matcher.MCRUserMatcherLDAP,org.mycore.ubo.matcher.MCRUserMatcherDummy

# Mappings between MyCoRe identifiers and LDAP attributes (for labeledUri)
# MCR.user2.LDAP.Mapping.labeledURI.$IDENTIFIER_NAME.schema=...
MCR.user2.LDAP.Mapping.labeledURI.id_scopus.schema=https://www.scopus.com/authid/detail.uri?authorId=%s
MCR.user2.LDAP.Mapping.labeledURI.id_gnd.schema=http://d-nb.info/gnd/%s

# Mappings between MyCoRe identifiers and LDAP attributes (for explicit attributes i.e. eduPersonOrcid)
# Multiple mappings may be separated by ','
# For example: MCR.user2.LDAP.Mapping.explicit=id_orcid:eduPersonOrcid,id_his:eduPersonUniqueId
MCR.user2.LDAP.Mapping.explicit=id_orcid:eduPersonOrcid

# Mapping of any attribute.value combination to group membership of user
# eduPersonScopedAffiliation may be faculty|staff|employee|student|alum|member|affiliate
# MCR.user2.LDAP.Mapping.Group.eduPersonScopedAffiliation.staff@uni-duisburg-essen.de=submitter

######################################################################
#                                                                    #
#                        Command Line Interface                      #
#                                                                    #
######################################################################

# MyCoRe command line interface configuration
MCR.CLI.Classes.Internal.DozBib=org.mycore.ubo.DozBibCommands
MCR.CLI.Classes.Internal.LSF=org.mycore.ubo.lsf.User2LSFHelper

# MyCoRe command line interface configuration
MCR.CommandLineInterface.SystemName=UBO

######################################################################
#                                                                    #
#                               E-Mail                               #
#                                                                    #
######################################################################

# Default "from" address
MCR.Mail.Address=universitaetsbibliographie.ub@uni-due.de
UBO.Mail.From=%MCR.Mail.Address%

# CHANGE: Hostname of the outgoing SMTP mail server
MCR.Mail.Server=mailout.uni-due.de
MCR.Mail.Protocol=smtp
MCR.Mail.Debug=false

# If you set this to 0, no email is sended anywhere
MCR.Mail.NumTries=10

######################################################################
#                                                                    #
#                            Web Interface                           #
#                                                                    #
######################################################################

# IP address of trusted proxy
MCR.Request.TrustedProxies=132.252.176.246

# If set to true, editing metadata and content over the web is disabled
UBO.System.ReadOnly=false

# Show a maintainance message if UBO.System.ReadOnly=true
UBO.System.ReadOnly.Message=Aufgrund von Wartungsarbeiten ist das Erstellen oder Bearbeiten von Eintr\u00E4gen zurzeit gesperrt.

# Classification that contains all languages with codes and labels
MCR.LanguageClassification=rfc4646

# Caching Resolver
MCR.URIResolver.ModuleResolver.cache=org.mycore.ubo.CachingResolver
UBO.CachingResolver.Capacity=100
UBO.CachingResolver.MaxAge=86400000

# Sorting rules for MCRURIResolver
MCR.URIResolver.Classification.Sort.ORIGIN=false
MCR.URIResolver.Classification.Sort.rfc4646=true
MCR.URIResolver.Classification.Sort.marcrelator=false
MCR.URIResolver.Classification.Sort.oa=false

# XML document types that contain editor framework forms
MCR.XEditor.DocTypes=MyCoReWebPage,webpage

# enable classification browser also for webpage
MCR.URIResolver.xslIncludes.webpage=classificationBrowser.xsl

# TODO: remove when its set in mycore
# Markers for input validation states. To be set in attributes, e.g. <div class="someclass {$xed-validation-marker}" ...
# This marker is set if $xed-validation-marker is used in editor source code, but no validation was performed:
MCR.XEditor.Validation.Marker.default=
# This marker is set if validation succeeded
MCR.XEditor.Validation.Marker.success=is-valid
# This marker is set if validation failed
MCR.XEditor.Validation.Marker.error=is-invalid

# URI resolver
MCR.URIResolver.ModuleResolver.nameLister=org.mycore.ubo.basket.BasketNameLister

# Two-step layout process
MCR.ContentTransformer.webpage.Stylesheet=xsl/webpage.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.MyCoReWebPage.Stylesheet=xsl/MyCoReWebPage.xsl,xsl/webpage.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.site.Stylesheet=xsl/webpage.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.response.Stylesheet=xsl/response.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.response-statistics.Stylesheet=xsl/response-statistics.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.response-duplicates.Stylesheet=xsl/response-duplicates.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.basket-bibentries.Stylesheet=xsl/basket-bibentries.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.mycoreobject.Stylesheet=xsl/mycoreobject.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.user.Stylesheet=xsl/user.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.users.Stylesheet=xsl/users.xsl,xsl/webpage.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.mods-wizard-notfound.Stylesheet=xsl/mods-wizard-notfound.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.lsfpidsearch.Stylesheet=xsl/lsfpidsearch.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.ldappidsearch.Stylesheet=xsl/ldappidsearch.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.list-wizard.Stylesheet=xsl/list-wizard.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.duplicates.Stylesheet=xsl/duplicates.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.mcr_error.Stylesheet=xsl/mcr_error.xsl,xsl/html-layout.xsl
MCR.ContentTransformer.roles.Stylesheet=xsl/roles.xsl,xsl/webpage.xsl,xsl/html-layout.xsl

######################################################################
#                                                                    #
#                            Classbrowser                            #
#                                                                    #
######################################################################
# make icons look nice
MCR.classbrowser.folder.closed=far fa-plus-square
MCR.classbrowser.folder.open=far fa-minus-square
MCR.classbrowser.folder.leaf=far fa-square

######################################################################
#                                                                    #
#                                Export                              #
#                                                                    #
######################################################################

# Export bibliography entries in legacy, bibentry XML format.
MCR.ContentTransformer.xml.Class=org.mycore.common.content.transformer.MCRXSLTransformer
MCR.ContentTransformer.xml.Stylesheet=xsl/exportCollection-resolveBasketEntry.xsl,xsl/response-export.xsl,xsl/export-legacy.xsl
MCR.ContentTransformer.xml.MIMEType=text/xml
MCR.ContentTransformer.xml.FileExtension=xml

# Export bibliography entries as HTML, using export-html.xsl
MCR.ContentTransformer.html.Class=org.mycore.common.content.transformer.MCRXSLTransformer
MCR.ContentTransformer.html.Stylesheet=xsl/exportCollection-resolveBasketEntry.xsl,xsl/response-export.xsl,xsl/export-html.xsl
MCR.ContentTransformer.html.MIMEType=text/html
MCR.ContentTransformer.html.FileExtension=html

# Export bibliography entries as PDF, using export-pdf.xsl
# First produce XSL-FO, then make PDF out of it
MCR.ContentTransformer.fo.Class=org.mycore.common.content.transformer.MCRXSLTransformer
MCR.ContentTransformer.fo.Stylesheet=xsl/exportCollection-resolveBasketEntry.xsl,xsl/response-export.xsl,xsl/export-pdf.xsl
MCR.ContentTransformer.fo2pdf.Class=org.mycore.component.fo.common.content.transformer.MCRFopper
MCR.ContentTransformer.pdf.Class=org.mycore.common.content.transformer.MCRTransformerPipe
MCR.ContentTransformer.pdf.Steps=fo, fo2pdf
MCR.ContentTransformer.pdf.FileExtension=pdf
MCR.LayoutService.FoFormatter.FOP.config=fopconfig.xml

# Debugging of transformation steps (example)
MCR.ContentTransformer.debug.Class=org.mycore.common.content.transformer.MCRDebuggingTransformer
MCR.ContentTransformer.debug-pdf.Class=org.mycore.common.content.transformer.MCRTransformerPipe
MCR.ContentTransformer.debug-pdf.Steps=debug, fo, debug, fo2pdf, debug

# Export bibliography entries as MODS, using export-mods.xsl
MCR.ContentTransformer.mods.Class=org.mycore.common.content.transformer.MCRXSLTransformer
MCR.ContentTransformer.mods.Stylesheet=xsl/exportCollection-resolveBasketEntry.xsl,xsl/response-export.xsl,xsl/export-mods.xsl
MCR.ContentTransformer.mods.MIMEType=text/xml
MCR.ContentTransformer.mods.FileExtension=xml

# Export bibliography entries as MODS for BibTeX, using export-mods and mods2bibmods.xsl
MCR.ContentTransformer.mods2bibmods.Class=org.mycore.common.content.transformer.MCRXSLTransformer
MCR.ContentTransformer.mods2bibmods.Stylesheet=xsl/exportCollection-resolveBasketEntry.xsl,xsl/response-export.xsl,xsl/export-mods.xsl,xsl/mods2bibmods.xsl
MCR.ContentTransformer.mods2bibmods.MIMEType=text/xml
MCR.ContentTransformer.mods2bibmods.FileExtension=xml

# local.property: Export bibliography entries by use of the Bibutils commands.
# See http://www.scripps.edu/~cdputnam/software/bibutils/
UBO.BibUtils.Base=cmd.exe /c C:\\workspace\\bibutils_6.8\\bin\\

# Export bibliography entries as BibTeX file
# First produce MODS, then make BibTeX out of it
MCR.ContentTransformer.mods2bibtex.Class=org.mycore.common.content.transformer.MCRBibUtilsTransformer
# local.property: system command for xml2bib
MCR.ContentTransformer.mods2bibtex.Command=%UBO.BibUtils.Base%xml2bib.exe -b -w -o UTF8
MCR.ContentTransformer.mods2bibtex.MIMEType=text/plain; charset\="UTF-8"
MCR.ContentTransformer.mods2bibtex.FileExtension=bib
MCR.ContentTransformer.bibtex.Class=org.mycore.common.content.transformer.MCRTransformerPipe
MCR.ContentTransformer.bibtex.Steps=mods2bibmods, mods2bibtex
MCR.ContentTransformer.bibtex.FileExtension=bib

# Export bibliography entries as RIS (Reference Manager) format
# First produce MODS, then make RIS out of it
MCR.ContentTransformer.mods2ris.Class=org.mycore.common.content.transformer.MCRBibUtilsTransformer
# local.property: system command for xml2ris
MCR.ContentTransformer.mods2ris.Command=%UBO.BibUtils.Base%xml2ris.exe
MCR.ContentTransformer.mods2ris.MIMEType=text/plain; charset\="latin1"
MCR.ContentTransformer.mods2ris.FileExtension=ris
MCR.ContentTransformer.ris.Class=org.mycore.common.content.transformer.MCRTransformerPipe
MCR.ContentTransformer.ris.Steps=mods2bibmods, mods2ris
MCR.ContentTransformer.ris.FileExtension=ris

# Export bibliography entries as EndNote tagged file format
# First produce MODS, then make EndNote out of it
MCR.ContentTransformer.mods2endnote.Class=org.mycore.common.content.transformer.MCRBibUtilsTransformer
# local.property: system command for xml2end
MCR.ContentTransformer.mods2endnote.Command=%UBO.BibUtils.Base%xml2end.exe
MCR.ContentTransformer.mods2endnote.MIMEType=text/plain; charset\="latin1"
MCR.ContentTransformer.mods2endnote.FileExtension=enw
MCR.ContentTransformer.endnote.Class=org.mycore.common.content.transformer.MCRTransformerPipe
MCR.ContentTransformer.endnote.Steps=mods2bibmods, mods2endnote
MCR.ContentTransformer.endnote.FileExtension=enw

# Export bibliography entries as text file, IEEE citation format
# First produce MODS, then BibTeX, then transform via CSL Processor
MCR.ContentTransformer.bibtex2ieee-text.Class=org.mycore.ubo.csl.MCRBibTeXCSLTransformer
MCR.ContentTransformer.bibtex2ieee-text.MIMEType=text/plain; charset\="UTF-8"
MCR.ContentTransformer.bibtex2ieee-text.CitationStyle=ieee
MCR.ContentTransformer.bibtex2ieee-text.OutputFormat=text
MCR.ContentTransformer.ieee-text.Class=org.mycore.common.content.transformer.MCRTransformerPipe
MCR.ContentTransformer.ieee-text.Steps=mods2bibmods, mods2bibtex, bibtex2ieee-text
MCR.ContentTransformer.ieee-text.FileExtension=txt

MCR.Jersey.Resource.Packages=%MCR.Jersey.Resource.Packages%,org.mycore.ubo.resources

######################################################################
#                                                                    #
#                           BibTeX Import                            #
#                                                                    #
######################################################################

# Import bibliography entries from BibTeX
MCR.ContentTransformer.import.BibTeX.Class=org.mycore.common.content.transformer.MCRTransformerPipe
MCR.ContentTransformer.import.BibTeX.Steps=import.BibTeX2MODS,import.MODS2MCRObj
MCR.ContentTransformer.import.BibTeX2MODS.Class=org.mycore.mods.bibtex.MCRBibTeX2MODSTransformer
MCR.ContentTransformer.import.MODS2MCRObj.Class=org.mycore.common.content.transformer.MCRXSLTransformer
MCR.ContentTransformer.import.MODS2MCRObj.Stylesheet=xsl/import-mods2mycoreobject.xsl,xsl/import/genre2genre.xsl

######################################################################
#                                                                    #
#                          ORCID Integration                         #
#                                                                    #
######################################################################

# Import publications ("works") from public ORCID profile
MCR.ContentTransformer.import.ORCID.Class=org.mycore.common.content.transformer.MCRTransformerPipe
MCR.ContentTransformer.import.ORCID.Steps=import.ORCID2Works,import.MODS2MCRObj
MCR.ContentTransformer.import.ORCID2Works.Class=org.mycore.ubo.importer.orcid.Orcid2WorksTransformer

# URL to link ORCID IDs, either production/sandbox system
  MCR.ORCID.LinkURL=https://orcid.org/
# MCR.ORCID.LinkURL=https://sandbox.orcid.org/

# Base URL of ORCID API to use, either public/sandbox/member API
  MCR.ORCID.BaseURL=https://pub.orcid.org/v2.1
# MCR.ORCID.BaseURL=https://api.sandbox.orcid.org/v2.1

# Base URL of ORCID OAuth API, either public/sandbox/member API
  MCR.ORCID.OAuth.BaseURL=https://orcid.org/oauth
# MCR.ORCID.OAuth.BaseURL=https://sandbox.orcid.org/oauth

# specify link to application specific orcid information
  UBO.ORCID.InfoURL=https://www.uni-due.de/ub/publikationsdienste/orcid.php

######################################################################
#                                                                    #
#                             CSV Import                             #
#                                                                    #
######################################################################

MCR.ContentTransformer.import.CSV2XML.Class=org.mycore.ubo.importer.CSV2XMLTransformer

MCR.ContentTransformer.import.IAQ.Class=org.mycore.common.content.transformer.MCRTransformerPipe
MCR.ContentTransformer.import.IAQ.Steps=import.CSV2XML,import.IAQ2MCRObj
MCR.ContentTransformer.import.IAQ2MCRObj.Class=org.mycore.common.content.transformer.MCRXSLTransformer
MCR.ContentTransformer.import.IAQ2MCRObj.Stylesheet=xsl/import/csv2xml-iaq2mods.xsl,xsl/import-mods2mycoreobject.xsl

MCR.ContentTransformer.import.NST.Class=org.mycore.common.content.transformer.MCRTransformerPipe
MCR.ContentTransformer.import.NST.Steps=import.CSV2XML,import.NST2MCRObj
MCR.ContentTransformer.import.NST2MCRObj.Class=org.mycore.common.content.transformer.MCRXSLTransformer
MCR.ContentTransformer.import.NST2MCRObj.Stylesheet=xsl/import/csv2xml-nst2mods.xsl,xsl/import-mods2mycoreobject.xsl

MCR.ContentTransformer.import.Opto.Class=org.mycore.common.content.transformer.MCRTransformerPipe
MCR.ContentTransformer.import.Opto.Steps=import.CSV2XML,import.Opto2MCRObj
MCR.ContentTransformer.import.Opto2MCRObj.Class=org.mycore.common.content.transformer.MCRXSLTransformer
MCR.ContentTransformer.import.Opto2MCRObj.Stylesheet=xsl/import/csv2xml-opto2mods.xsl,xsl/import-mods2mycoreobject.xsl

######################################################################
#                                                                    #
#                            JSON Import                             #
#                                                                    #
######################################################################

MCR.ContentTransformer.json2xml.Class=org.mycore.ubo.importer.JSON2XMLTransformer

MCR.ContentTransformer.dummy-json2xml.TransformerFactoryClass=net.sf.saxon.TransformerFactoryImpl
MCR.ContentTransformer.dummy-json2xml.Stylesheet=xsl/dummy-json2xml.xsl

######################################################################
#                                                                    #
#             OAI-PMH 2.0 Data Provider Configuration                #
#                                                                    #
######################################################################

MCR.OAIDataProvider.MetadataFormat.oai_dc.Schema=http://www.openarchives.org/OAI/2.0/oai_dc.xsd
MCR.OAIDataProvider.MetadataFormat.oai_dc.Namespace=http://www.openarchives.org/OAI/2.0/oai_dc/

MCR.OAIDataProvider.MetadataFormat.oai_qdc.Namespace=http://epubs.cclrc.ac.uk/xmlns/qdc/
MCR.OAIDataProvider.MetadataFormat.oai_qdc.Schema=http://epubs.cclrc.ac.uk/xsd/qdc.xsd

MCR.OAIDataProvider.MetadataFormat.mods.Namespace=http://www.loc.gov/mods/v3
MCR.OAIDataProvider.MetadataFormat.mods.Schema=http://www.loc.gov/standards/mods/v3/mods-3-6.xsd

MCR.OAIDataProvider.ResumptionTokens.PartitionSize=100
MCR.OAIDataProvider.ResumptionTokens.MaxAge=1440

MCR.OAIDataProvider.OAI.RepositoryName=Universit\u00E4tsbibliographie, Universit\u00E4t Duisburg-Essen
MCR.OAIDataProvider.OAI.RepositoryIdentifier=ubo
MCR.OAIDataProvider.OAI.AdminEmail=%MCR.Mail.Address%
MCR.OAIDataProvider.OAI.RecordSampleID=ubo_mods_00000001

MCR.OAIDataProvider.OAI.DeletedRecord=transient
MCR.OAIDataProvider.OAI.ResponseStylesheet=oai/oai2.xsl

MCR.OAIDataProvider.OAI.Adapter.RecordURIPattern=xslStyle\:mycoreobject2{format}\:mcrobject\:{id}
MCR.OAIDataProvider.OAI.Adapter.HeaderURIPattern=xslStyle\:mycoreobject2header\:mcrobject\:{id}

MCR.OAIDataProvider.OAI.Search.FromUntil=modified
MCR.OAIDataProvider.OAI.Search.SortBy=modified desc, id desc
MCR.OAIDataProvider.OAI.Search.Restriction=status\:confirmed

MCR.OAIDataProvider.OAI.EarliestDatestamp.SortBy=modified asc

MCR.OAIDataProvider.OAI.MetadataFormats=oai_dc,oai_qdc,mods

######################################################################
#                                                                    #
#                              HIS LSF                               #
#                                                                    #
######################################################################


# Base URL where the SOAP services are located
# Override in local properties to use a tunnel or mock service
UBO.LSF.SOAP.BaseURL=http://www.lsf.uni-due.de/lsf/services

# UBO.LSF.Link=https://www.uni-due.de/zim/services/suchdienste/mitarbeiter.php?id=

UBO.LSFClient.Cache.MaxAge=3600000
UBO.LSFClient.Cache.Capacity=1000

#MCR.URIResolver.ModuleResolver.lsf=org.mycore.ubo.lsf.LSFResolver
MCR.URIResolver.ModuleResolver.ires=org.mycore.ubo.picker.IdentityResolver

# TODO: make it all the same package or make it configurable or smth
MCR.ContentTransformer.localpidsearch.Stylesheet=xsl/localpidsearch.xsl,xsl/html-layout.xsl
MCR.IdentityPicker.strategy=org.mycore.ubo.local.Local
#MCR.IdentityPicker.strategy=org.mycore.ubo.ldap.picker.LDAP


######################################################################
#                                                                    #
#                           EVALuna Biblio                           #
#                                                                    #
######################################################################

UBO.Evaluna.URL=http\://e-med.biblio.evaluna.net/perl-bin/biblio.pl

MCR.ContentTransformer.import.Evaluna.Class=org.mycore.common.content.transformer.MCRXSLTransformer
MCR.ContentTransformer.import.Evaluna.Stylesheet=xsl/import/evaluna2mods.xsl,xsl/import/genre2genre.xsl,xsl/import-mods2mycoreobject.xsl

MCR.URIResolver.ModuleResolver.evaluna=org.mycore.ubo.importer.evaluna.EvalunaResolver

# Configuration to import data via EnrichmentResolver
MCR.MODS.EnrichmentResolver.DataSource.EVALuna.IdentifierTypes=evaluna
MCR.MODS.EnrichmentResolver.DataSource.EVALuna.evaluna.URI=xslStyle:import/evaluna2mods,import/collection2mods,import/genre2genre:evaluna:{0}

######################################################################
#                                                                    #
#                               PubMed                               #
#                                                                    #
######################################################################

UBO.PubMed.Link=https://www.ncbi.nlm.nih.gov/pubmed/
UBO.PubMed.REST.URL=https://www.ebi.ac.uk/europepmc/webservices/rest/search/resulttype=core&query=

# Configuration for importing PubMed RSS feed
MCR.MODS.RSSFeedImporter.PubMed.FeedURL=https://eutils.ncbi.nlm.nih.gov/entrez/eutils/erss.cgi?rss_guid=1LgINZmdEb7dTjgV40Ro8AN9MSFRAFarM7cb16kssgU3LD2Afd
MCR.MODS.RSSFeedImporter.PubMed.PublicationURI=xslStyle:import/pubmed2mods,import/genre2genre,mods-filter-supported,mods2mycoreobject:%UBO.PubMed.REST.URL%ext_id:{0}
MCR.MODS.RSSFeedImporter.PubMed.Pattern2FindID=.+pubmed/(\\d+)\\?.+
MCR.MODS.RSSFeedImporter.PubMed.Field2QueryID=id_pubmed
MCR.MODS.RSSFeedImporter.PubMed.XSL2BuildNotificationMail=rss-import-e-mail

# Configuration to import data via EnrichmentResolver
MCR.MODS.EnrichmentResolver.DataSource.PubMed.IdentifierTypes=doi pubmed
MCR.MODS.EnrichmentResolver.DataSource.PubMed.doi.URI=xslStyle:import/pubmed2mods,import/genre2genre:%UBO.PubMed.REST.URL%doi:{0}
MCR.MODS.EnrichmentResolver.DataSource.PubMed.pubmed.URI=xslStyle:import/pubmed2mods,import/genre2genre:%UBO.PubMed.REST.URL%ext_id:{0}

######################################################################
#                                                                    #
#                               Scopus                               #
#                                                                    #
######################################################################

UBO.Scopus.PartnerID=HzOxMe3b

UBO.Scopus.Author.Link=https://www.scopus.com/authid/detail.url?partnerID=%UBO.Scopus.PartnerID%&origin=inward&authorId=
UBO.Scopus.Link=https://www.scopus.com/inward/record.url?partnerID=%UBO.Scopus.PartnerID%&origin=inward&scp=
UBO.Scopus.API.URL=https://api.elsevier.com/content/

UBO.Scopus.Importer.Field2QueryID=id_scopus
UBO.Scopus.Importer.ImportURI=xslStyle:import/scopus2mods,import/genre2genre,mods-filter-supported,mods2mycoreobject:%UBO.Scopus.API.URL%abstract/scopus_id/{0}?apikey=%UBO.Scopus.API.Key%
UBO.Scopus.Importer.ProjectID=ubo
UBO.Scopus.Importer.Status=imported
UBO.Scopus.Importer.Mail.To=%MCR.Mail.Address%
UBO.Scopus.Importer.Mail.Param=MCR.Mail.Address
UBO.Scopus.Importer.Mail.XSL=rss-import-e-mail

# Configuration for importing Scopus RSS feed
# MCR.MODS.RSSFeedImporter.Scopus.FeedURL=https://syndic8.scopus.com/getMessage?registrationId=BHFEBIFFIJFNFHHHDHGKBNHMBKIGBNIFKKMFDIMJFW
# MCR.MODS.RSSFeedImporter.Scopus.PublicationURI=%UBO.Scopus.Importer.ImportURI%
# MCR.MODS.RSSFeedImporter.Scopus.Pattern2FindID=.+eid%3D2-s2\\.0-(\\d+)%26.+
# MCR.MODS.RSSFeedImporter.Scopus.Field2QueryID=%UBO.Scopus.Importer.Field2QueryID%
# MCR.MODS.RSSFeedImporter.Scopus.XSL2BuildNotificationMail=%UBO.Scopus.Importer.Mail.XSL%

# Configuration to import data via EnrichmentResolver
MCR.MODS.EnrichmentResolver.DataSource.Scopus.IdentifierTypes=doi scopus
MCR.MODS.EnrichmentResolver.DataSource.Scopus.doi.URI=xslStyle:import/scopus2mods,import/genre2genre:%UBO.Scopus.API.URL%abstract/doi/{0}?apikey=%UBO.Scopus.API.Key%
MCR.MODS.EnrichmentResolver.DataSource.Scopus.scopus.URI=xslStyle:import/scopus2mods,import/genre2genre:%UBO.Scopus.API.URL%abstract/scopus_id/{0}?apikey=%UBO.Scopus.API.Key%

######################################################################
#                                                                    #
#                           Web of Science                           #
#                                                                    #
######################################################################

UBO.WebOfScience.Link=http://ws.isiknowledge.com/cps/openurl/service?url_ver=Z39.88-2004&rft_id=info:ut/

######################################################################
#                                                                    #
#                              CrossRef                              #
#                                                                    #
######################################################################

# Configuration to import data via EnrichmentResolver
MCR.MODS.EnrichmentResolver.DataSource.CrossRef.IdentifierTypes=doi
MCR.MODS.EnrichmentResolver.DataSource.CrossRef.doi.URI=xslStyle:import/simplify-json-xml,import/crossref2mods,import/genre2genre:xslTransform:json2xml:https://api.crossref.org/works/{0}
UBO.DOIResolver=https://doi.org/

######################################################################
#                                                                    #
#                              DataCite                              #
#                                                                    #
######################################################################

# Configuration to import data via EnrichmentResolver
MCR.MODS.EnrichmentResolver.DataSource.DataCite.IdentifierTypes=doi
MCR.MODS.EnrichmentResolver.DataSource.DataCite.doi.URI=xslStyle:strip-namespaces,import/datacite2mods,import/genre2genre:https://data.datacite.org/application/vnd.datacite.datacite+xml/{0}

######################################################################
#                                                                    #
#                             arXiv.org                              #
#                                                                    #
######################################################################

UBO.arXiv.Link=https://arxiv.org/abs/

MCR.MODS.EnrichmentResolver.DataSource.arXiv.IdentifierTypes=arxiv
MCR.MODS.EnrichmentResolver.DataSource.arXiv.arxiv.URI=xslStyle:import/arxiv2mods:https://export.arxiv.org/api/query?max_results=1&id_list={0}

######################################################################
#                                                                    #
#                                IEEE                                #
#                                                                    #
######################################################################

UBO.IEEE.Link=https://ieeexplore.ieee.org/xpls/icp.jsp?arnumber=

# Configuration to import data via EnrichmentResolver
MCR.MODS.EnrichmentResolver.DataSource.IEEE.IdentifierTypes=ieee doi
# IEEE actually supports https, but the certificate is invalid, so we use http
MCR.MODS.EnrichmentResolver.DataSource.IEEE.ieee.URI=xslStyle:import/ieee2mods,import/genre2genre:http://ieeexploreapi.ieee.org/api/v1/search/articles?article_number={0}&apikey=%UBO.IEEE.API.Key%&format=xml
MCR.MODS.EnrichmentResolver.DataSource.IEEE.doi.URI=xslStyle:import/ieee2mods,import/genre2genre:http://ieeexploreapi.ieee.org/api/v1/search/articles?doi={0}&apikey=%UBO.IEEE.API.Key%&format=xml

######################################################################
#                                                                    #
#                             DuEPublico                             #
#                                                                    #
######################################################################

# Configuration to import data via EnrichmentResolver

MCR.MODS.EnrichmentResolver.DataSource.DuEPublico1.IdentifierTypes=duepublico
MCR.MODS.EnrichmentResolver.DataSource.DuEPublico1.duepublico.URI=xslStyle:import/duepublico2mods:https://duepublico.uni-due.de/receive/miless_mods_{0}?XSL.Style=xml

MCR.MODS.EnrichmentResolver.DataSource.DuEPublico2.IdentifierTypes=duepublico2
MCR.MODS.EnrichmentResolver.DataSource.DuEPublico2.duepublico2.URI=xslStyle:import/duepublico2mods:https://duepublico2.uni-due.de/receive/{0}?XSL.Style=xml

######################################################################
#                                                                    #
#                                Aleph                               #
#                                                                    #
######################################################################

# Configuration to import data via EnrichmentResolver
MCR.MODS.EnrichmentResolver.DataSource.Aleph.IdentifierTypes=shelfmark isbn
MCR.MODS.EnrichmentResolver.DataSource.Aleph.shelfmark.URI=xslStyle:import/aleph2mods:https://alephprod.ub.uni-due.de/X?op=find&base=edu01&request=psg%3D%22{1}%22
MCR.MODS.EnrichmentResolver.DataSource.Aleph.isbn.URI=xslStyle:import/aleph2mods:https://alephprod.ub.uni-due.de/X?op=find&base=edu01&request=ibn%3D%22{1}%22

######################################################################
#                                                                    #
#                             LOBID hbz                              #
#                                                                    #
######################################################################

# Configuration to import data via EnrichmentResolver
MCR.MODS.EnrichmentResolver.DataSource.LOBID.IdentifierTypes=hbz isbn
MCR.MODS.EnrichmentResolver.DataSource.LOBID.hbz.URI=xslStyle:import/lobid2mods:https://lobid.org/resource?id={1}&format=source
MCR.MODS.EnrichmentResolver.DataSource.LOBID.isbn.URI=xslStyle:import/lobid2mods:https://lobid.org/resource?id={1}&format=source

######################################################################
#                                                                    #
#                              GBV GVK                               #
#                                                                    #
######################################################################

# Configuration to import data via EnrichmentResolver
MCR.MODS.EnrichmentResolver.DataSource.GBV.IdentifierTypes=ppn isbn
MCR.MODS.EnrichmentResolver.DataSource.GBV.ppn.URI=xslTransform:pica2mods:https://unapi.k10plus.de/?id=k10plus:ppn:{1}&format=picaxml
MCR.MODS.EnrichmentResolver.DataSource.GBV.isbn.URI=xslStyle:import/gbv-sru2mods,import/gbv-mods2mods:https://sru.k10plus.de/gvk?version=1.1&operation=searchRetrieve&query=pica.isb%3D{1}&maximumRecords=1&recordSchema=mods36

MCR.ContentTransformer.pica2mods.Stylesheet=xsl/pica2mods.xsl
MCR.ContentTransformer.pica2mods.TransformerFactoryClass=net.sf.saxon.TransformerFactoryImpl

######################################################################
#                                                                    #
#                                 SWB                                #
#                                                                    #
######################################################################

# Configuration to import data via EnrichmentResolver
# MCR.MODS.EnrichmentResolver.DataSource.SWB.IdentifierTypes=ppn
# MCR.MODS.EnrichmentResolver.DataSource.SWB.ppn.URI=xslTransform:pica2mods:https://unapi.k10plus.de/?id=swb:ppn:{1}&format=mods36

######################################################################
#                                                                    #
#                                 ZDB                                #
#                                                                    #
######################################################################

# Configuration to import data via EnrichmentResolver
MCR.MODS.EnrichmentResolver.DataSource.ZDB.IdentifierTypes=issn zdb
MCR.MODS.EnrichmentResolver.DataSource.ZDB.issn.URI=xslStyle:import/zdb2mods:https://services.dnb.de/sru/zdb?version=1.1&operation=searchRetrieve&query=iss%3D{1}&recordSchema=MARC21-xml
MCR.MODS.EnrichmentResolver.DataSource.ZDB.zdb.URI=xslStyle:import/zdb2mods:https://services.dnb.de/sru/zdb?version=1.1&operation=searchRetrieve&query=zdbid%3D{1}&recordSchema=MARC21-xml

######################################################################
#                                                                    #
#                       Journals online & print                      #
#                                                                    #
######################################################################

# for more information see
# https://www.zeitschriftendatenbank.de/services/schnittstellen/journals-online-print/
UBO.JOP.Parameters=genre=journal&sid=bib:ughe&pid=bibid%3DUGHE&issn=
UBO.JOP.URL=https://www.uni-due.de/ub/ghbsys/jop

# Configuration to import data via EnrichmentResolver
MCR.MODS.EnrichmentResolver.DataSource.JOP.IdentifierTypes=issn
MCR.MODS.EnrichmentResolver.DataSource.JOP.issn.URI=xslStyle:import/jop2mods:https://services.dnb.de/fize-service/gvr/full.xml?%UBO.JOP.Parameters%{1}

######################################################################
#                                                                    #
#                              Unpaywall                             #
#                                                                    #
######################################################################

MCR.MODS.EnrichmentResolver.DataSource.Unpaywall.IdentifierTypes=doi
MCR.MODS.EnrichmentResolver.DataSource.Unpaywall.doi.URI=xslStyle:import/simplify-json-xml,import/unpaywall2mods:xslTransform:json2xml:https://api.unpaywall.org/v2/{1}?email=%MCR.Mail.Address%

######################################################################
#                                                                    #
#                          ISSN Gold Liste                           #
#                                                                    #
######################################################################

# ISSN-Matching of Gold OA Journals (ISSN-GOLD-OA) 2.0
# Rimmert C, Bruns A, Lenke C, Taubert NC (2017) : Bielefeld University.
# Source: http://doi.org/10.4119/unibi/2913654

UBO.ISSNGold.File=issn_gold_2.0.csv

MCR.URIResolver.ModuleResolver.gold=org.mycore.ubo.importer.ISSNGoldResolver

# Configuration to import data via ISSN Gold CSV list
MCR.MODS.EnrichmentResolver.DataSource.GOLD.IdentifierTypes=issn
MCR.MODS.EnrichmentResolver.DataSource.GOLD.issn.URI=gold:{1}

######################################################################
#                                                                    #
#                         Enrichment Resolver                        #
#                                                                    #
######################################################################

MCR.MODS.EnrichmentResolver.IdentifierType.shelfmark=mods:location/mods:shelfLocator

# Configuration to import new publication by given ID:
MCR.MODS.EnrichmentResolver.DataSources.import=DuEPublico1 DuEPublico2 EVALuna (Scopus CrossRef PubMed IEEE DataCite arXiv) Unpaywall (LOBID GBV Aleph) ZDB JOP

######################################################################
#                                                                    #
#                             Batch Editor                           #
#                                                                    #
######################################################################

# MyCoRe command line interface configuration
MCR.CLI.Classes.Internal.BatchEditor=org.mycore.ubo.BatchEditor

MCR.BatchEditor.BaseLevel.object=/mycoreobject
MCR.BatchEditor.BaseLevel.publication=/mycoreobject/metadata/def.modsContainer/modsContainer/mods:mods
MCR.BatchEditor.BaseLevel.person=/mycoreobject/metadata/def.modsContainer/modsContainer/mods:mods//mods:name[@type="personal"]

#MCR.BatchEditor.origin.Path2Remove=mods:classification[@valueURI="https://bibliographie.ub.uni-due.de/classifications/ORIGIN#{0}"]
#MCR.BatchEditor.origin.Path2Add=mods:classification[@authorityURI="https://bibliographie.ub.uni-due.de/classifications/ORIGIN"][@valueURI="https://bibliographie.ub.uni-due.de/classifications/ORIGIN#{0}"]

#MCR.BatchEditor.fachreferat.Path2Remove=mods:classification[@valueURI="https://bibliographie.ub.uni-due.de/classifications/fachreferate#{0}"]
#MCR.BatchEditor.fachreferat.Path2Add=mods:classification[@authorityURI="https://bibliographie.ub.uni-due.de/classifications/fachreferate"][@valueURI="https://bibliographie.ub.uni-due.de/classifications/fachreferate#{0}"]

MCR.BatchEditor.tag.Path2Remove=mods:extension/tag[text()="{0}"]
MCR.BatchEditor.tag.Path2Add=mods:extension/tag[text()="{0}"]="{0}"

MCR.BatchEditor.status.Path2Remove=service/servflags/servflag[@type="status"][text()="{0}"]
MCR.BatchEditor.status.Path2Add=service/servflags/servflag[@type="status"][text()="{0}"]="{0}"

#MCR.BatchEditor.lsf.Path2Remove=mods:nameIdentifier[@type="lsf"][text()="{0}"]
#MCR.BatchEditor.lsf.Path2Add=mods:nameIdentifier[@type="lsf"][text()="{0}"]="{0}"

MCR.BatchEditor.orcid.Path2Remove=mods:nameIdentifier[@type="orcid"][text()="{0}"]
MCR.BatchEditor.orcid.Path2Add=mods:nameIdentifier[@type="orcid"][text()="{0}"]="{0}"

MCR.BatchEditor.scopus.Path2Remove=mods:nameIdentifier[@type="scopus"][text()="{0}"]
MCR.BatchEditor.scopus.Path2Add=mods:nameIdentifier[@type="scopus"][text()="{0}"]="{0}"
